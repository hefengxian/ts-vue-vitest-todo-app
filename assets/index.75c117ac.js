import{r as y,w as g,d as i,c as o,a as d,b as p,e as f,f as c,v,g as T,h as b,F as C,i as x}from"./vendor.0b9f4ebf.js";const k=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}};k();const w={todos:[]},m="my_todo_app",h={fetch(){const t=localStorage.getItem(m)||JSON.stringify(w);return JSON.parse(t)},save(t){localStorage.setItem(m,JSON.stringify(t))}},u={state:y(h.fetch()),addTodo(t){this.state.todos.splice(0,0,t)},removeTodo(t){this.state.todos.splice(this.state.todos.indexOf(t),1)}};g(u.state,t=>{h.save(t)},{deep:!0});var A="assets/logo.98839eb3.png",S=i({name:"AppHeader",setup(){return()=>o("h1",{class:"title"},[o("img",{class:"logo",src:A},null),o("br",null,null),d("Todo App")])}});function L(t=8){let l="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let s=0;s<t;s++)l+=r.charAt(Math.floor(Math.random()*r.length));return l}var N=i({setup(){const t=u.state.todos,l=p("");function r(e){e.key!=="Enter"||l.value.trim()===""||(u.addTodo({uuid:L(),text:l.value.trim(),done:!1}),l.value="")}const s=f({get:()=>t.length>0&&t.filter(e=>e.done).length===t.length,set(e){t.forEach(n=>n.done=e)}});return()=>o("div",{class:"new-todo"},[c(o("input",{class:"toggle-all",type:"checkbox","onUpdate:modelValue":e=>s.value=e},null),[[v,s.value]]),c(o("input",{class:"new-todo-input",type:"text",autofocus:!0,autocomplete:"off",placeholder:"What needs to be done?","onUpdate:modelValue":e=>l.value=e,onKeyup:r},null),[[T,l.value]])])}}),O=i({name:"TodoListItem",props:{todo:{type:Object,required:!0}},setup(t){const l=t.todo,r=p(null),s=a=>{r.value=l,setTimeout(()=>a.target.focus(),0)},e=a=>{(a.key=="Enter"||a.key=="Escape")&&(a.target.blur(),r.value=null,a.preventDefault())},n=a=>{r.value=null,l.text=a.target.innerText};return()=>o("li",{class:"todo-item"},[c(o("input",{"onUpdate:modelValue":a=>l.done=a,type:"checkbox",class:"toggle"},null),[[v,l.done]]),o("div",{class:l.done?"view done":"view"},[o("span",{class:"todo-text",onClick:s,onKeydown:e,onFocusout:n,contenteditable:r.value==l},[l.text])]),o("span",{onClick:()=>u.removeTodo(l),class:"destroy"},[d("\xD7")])])}}),E=i({name:"TodoList",props:{todos:{type:Array,required:!0}},setup(t){return()=>c(o("ul",{class:"todo-list"},[t.todos.map(l=>o(O,{key:l.uuid,todo:l},null))]),[[b,t.todos.length>0]])}}),D=i({name:"UnderBar",props:{filterType:{type:String,default:"all"},filteredCount:{type:Number,required:!0,default:0}},emits:["update:filterType"],setup(t,{emit:l}){const r=s=>l("update:filterType",s);return()=>o("div",{class:"footer"},[o("div",{class:"info"},[t.filteredCount,d("/"),u.state.todos.length]),o("div",{class:"filters"},[o("button",{class:t.filterType==="all"?"selected":"",onClick:()=>r("all")},[d("All")]),o("button",{class:t.filterType==="active"?"selected":"",onClick:()=>r("active")},[d("Active")]),o("button",{class:t.filterType==="done"?"selected":"",onClick:()=>r("done")},[d("Done")])]),o("div",{class:"clear-all"},[o("button",{onClick:()=>u.state.todos=u.state.todos.filter(s=>!s.done)},[d("Clear Done")])])])}}),F=i({name:"Copyright",render(){return o("div",{class:"copyright"},[o("p",null,[d("Created by")," ",o("a",{href:"https://github.com/hefengxian",target:"_blank"},[d("Frank")])]),o("p",null,[d("Powered by Vue 3 & TypeScript")])])}}),I=i({name:"App",setup(){const t=p("all"),l={all:e=>e,active:e=>e.filter(n=>!n.done),done:e=>e.filter(n=>n.done)},r=f(()=>l[t.value](u.state.todos)),s=f(()=>l.active(u.state.todos).length);return()=>o(C,null,[o(S,null,null),o(N,null,null),o(E,{todos:r.value},null),o(D,{filteredCount:s.value,filterType:t.value,"onUpdate:filterType":e=>t.value=e},null),o(F,null,null)])}});x(I).mount("#app");
