import{r as g,w as T,d as i,c as e,a as d,b as p,e as f,f as c,v,g as b,h as x,F as C,i as k}from"./vendor.0b9f4ebf.js";const w=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};w();const A={todos:[]},m="my_todo_app",h={fetch(){const t=localStorage.getItem(m)||JSON.stringify(A);return JSON.parse(t)},save(t){localStorage.setItem(m,JSON.stringify(t))}},u={state:g(h.fetch()),addTodo(t){this.state.todos.splice(0,0,t)},removeTodo(t){this.state.todos.splice(this.state.todos.indexOf(t),1)}};T(u.state,t=>{h.save(t)},{deep:!0});var S="assets/logo.98839eb3.png",L=i({name:"AppHeader",setup(){return()=>e("h1",{class:"title"},[e("img",{class:"logo",src:S},null),e("br",null,null),d("Todo App")])}});function N(t=8){let r="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let a=0;a<t;a++)r+=n.charAt(Math.floor(Math.random()*n.length));return r}var O=i({setup(t,r){const n=u.state.todos,a=p("");function o(l){l.key!=="Enter"||a.value.trim()===""||(u.addTodo({uuid:N(),text:a.value.trim(),done:!1}),a.value="")}const s=f({get:()=>n.length>0&&n.filter(l=>l.done).length===n.length,set(l){n.forEach(y=>y.done=l)}});return()=>e("div",{class:"new-todo"},[c(e("input",{class:"toggle-all",type:"checkbox","onUpdate:modelValue":l=>s.value=l},null),[[v,s.value]]),c(e("input",{class:"new-todo-input",type:"text",autofocus:!0,autocomplete:"off",placeholder:"What needs to be done?","onUpdate:modelValue":l=>a.value=l,onKeyup:o},null),[[b,a.value]])])}}),E=i({name:"TodoListItem",props:{todo:{type:Object,required:!0}},setup(t){const r=t.todo,n=p(null),a=l=>{n.value=r,setTimeout(()=>l.target.focus(),0)},o=l=>{(l.key=="Enter"||l.key=="Escape")&&(l.target.blur(),n.value=null,l.preventDefault())},s=l=>{n.value=null,r.text=l.target.innerText};return()=>e("li",{class:"todo-item"},[c(e("input",{"onUpdate:modelValue":l=>r.done=l,type:"checkbox",class:"toggle"},null),[[v,r.done]]),e("div",{class:r.done?"view done":"view"},[e("span",{class:"todo-text",onClick:a,onKeydown:o,onFocusout:s,contenteditable:n.value==r},[r.text])]),e("span",{onClick:()=>u.removeTodo(r),class:"destroy"},[d("\xD7")])])}}),D=i({name:"TodoList",props:{todos:{type:Array,required:!0}},setup(t,r){return()=>c(e("ul",{class:"todo-list"},[t.todos.map(n=>e(E,{key:n.uuid,todo:n},null))]),[[x,t.todos.length>0]])}}),F=i({name:"UnderBar",props:{filterType:{type:String,default:"all"},filteredCount:{type:Number,required:!0,default:0}},emits:["update:filterType"],setup(t,{emit:r}){u.state.todos;const n=a=>r("update:filterType",a);return()=>e("div",{class:"footer"},[e("div",{class:"info"},[t.filteredCount,d("/"),u.state.todos.length]),e("div",{class:"filters"},[e("button",{class:t.filterType==="all"?"selected":"",onClick:()=>n("all")},[d("All")]),e("button",{class:t.filterType==="active"?"selected":"",onClick:()=>n("active")},[d("Active")]),e("button",{class:t.filterType==="done"?"selected":"",onClick:()=>n("done")},[d("Done")])]),e("div",{class:"clear-all"},[e("button",{onClick:()=>u.state.todos=u.state.todos.filter(a=>!a.done)},[d("Clear Done")])])])}}),I=i({name:"Copyright",render(){return e("div",{class:"copyright"},[e("p",null,[d("Created by "),e("a",{href:"https://github.com/hefengxian",target:"_blank"},[d("Frank")])]),e("p",null,[d("Powered by Vue 3 & TypeScript")])])}}),U=i({name:"App",setup(){const t=p("all"),r={all:o=>o,active:o=>o.filter(s=>!s.done),done:o=>o.filter(s=>s.done)},n=f(()=>r[t.value](u.state.todos)),a=f(()=>r.active(u.state.todos).length);return()=>e(C,null,[e(L,null,null),e(O,null,null),e(D,{todos:n.value},null),e(F,{filteredCount:a.value,filterType:t.value,"onUpdate:filterType":o=>t.value=o},null),e(I,null,null)])}});k(U).mount("#app");
